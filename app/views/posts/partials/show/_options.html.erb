<ul>
  <% if CurrentUser.is_member? %>
    <li class="vpad-05"><%= tag.a "+Favorite", href: '#', class: 'button btn-success', :id => "add-to-favorites", :"data-shortcut" => "f", style: ("display: none;" if @post.is_favorited?), 'data-pid': @post.id %></li>
    <li class="vpad-05"><%= tag.a "-Favorite", href: '#', class: 'button btn-danger', :id => "remove-from-favorites", :"data-shortcut" => "shift+f", style: ("display: none;" if !@post.is_favorited?), 'data-pid': @post.id %></li>
    <li><%= link_to "Edit", "#edit", :id => "side-edit-link" %></li>
    <li><%= link_to_if post.visible?, "Download", post.tagged_file_url + "?download=1", download: post.presenter.filename_for_download %></li>
    <li id="add-to-pool-list"><%= link_to "Add to pool", "#", :id => "pool" %></li>
    <li id="add-to-set-list"><%= link_to "Add to set", "#", id: "set" %></li>
    <li><%= link_to "Set as avatar", "javascript:void", id: "set-as-avatar-link", data: {post_id: post.id} %></li>
    <% if post.is_note_locked? %>
      <li id="add-notes-list"><span id="note-locked-notice">Note locked</span></li>
    <% else %>
      <li id="add-notes-list"><%= link_to "Add note", "#", :id => "translate", :"data-shortcut" => "n" %></li>
    <% end %>
    <% if post.has_notes? %>
      <li id="copy-all-notes-list"><%= link_to "Copy notes", "#", :id => "copy-notes" %></li>
    <% end %>

    <% if post.is_status_locked? %>
      <li><span id="status-locked-notice">Status locked</span></li>
    <% else %>
      <% unless CurrentUser.no_flagging? %>
        <% if !post.is_deleted? && !post.is_flagged? %>
          <li><%= link_to "Flag", new_post_flag_path(post_flag: {post_id: post.id}), id: "flag" %></li>
        <% end %>
      <% end %>
      <% if CurrentUser.is_member? %>
        <li><%= link_to "Report", new_ticket_path(disp_id: post.id, type: 'post') %></li>
      <% end %>

      <% if CurrentUser.can_approve_posts? %>
        <% if post.is_deleted? %>
          <li><%= tag.a "Undelete", href: '#', class: 'undelete-post-link', 'data-pid': post.id %></li>
          <% if post.fav_count > 0 && post.parent_id %>
            <li><%= link_to "Move favorites", confirm_move_favorites_moderator_post_post_path(:post_id => post.id) %></li>
          <% end %>
        <% else %>
          <li><%= link_to "Delete", confirm_delete_moderator_post_post_path(:post_id => post.id) %></li>
        <% end %>

        <% if post.is_approvable? && !post.is_deleted? %>
          <li><%= tag.a "Approve", href: '#', class: 'approve-post-link', :"data-shortcut" => "shift+o", 'data-pid': post.id %></li>
          <li><%= tag.a "Hide from queue", href: '#', class: 'disapprove-post-link', 'data-pid': post.id, 'data-reason': 'other' %></li>
        <% end %>

        <% if !post.is_pending? && !post.is_deleted? %>
          <li><%= tag.a "Unapprove", href: '#', 'data-pid': post.id, id: 'unapprove-post-link' %></li>
        <% end %>

        <% if CurrentUser.is_admin? %>
          <li><%= link_to "Update IQDB", update_iqdb_post_path(@post) %></li>
          <li><%= tag.a "Destroy", href: '#', id: 'destroy-post-link', 'data-pid': post.id %></li>
        <% end %>
      <% end %>
      <% if CurrentUser.is_member? %>
        <li><%= link_to "Replace image", new_post_replacement_path(post_id: post.id), id: "replace-image" %></li>
      <% end %>
    <% end %>
  <% end %>
</ul>
